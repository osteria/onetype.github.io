<!DOCTYPE html>
<html itemscope itemtype='http://schema.org/WebSite' itemid='{{ site.url | append: page.url }}'>
<head>
  <meta charset='utf-8' />
  <title>{% if page.headline %}{{ page.headline }}{% else %}{{ site.title }}{% endif %}</title>
  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1' />
  <meta name='viewport' content='width=device-width,minimum-scale=1,initial-scale=1' />
  <meta name='mobile-web-app-capable' content='yes'>
  <link rel='stylesheet' href='https://necolas.github.io/normalize.css/5.0.0/normalize.css'>
  <link rel='stylesheet' href="{{ site.url }}/css/{% if page.custom-css %}{{ page.custom-css }}{% else %}{{ 'main' }}{% endif %}.css" />
  <style>
    [id='WebsitePublisher'] {
      display: none;
    }
  </style>
</head>
<body>
  <div id='WebsitePublisher' itemprop='publisher' itemtype='http://schema.org/Organization' itemscope=''>
    <time datetime="{{ page.date | date: '%Y-%m-%d' }}">{{ page.date | date: '%B %d, %Y' }}</time>
    <em itemprop='name'>{{ site.author.name }}</em>
    <figure itemprop='logo' itemscope itemtype='https://schema.org/ImageObject'>
      <img itemprop='url' src='{{ site.url }}/images/logo.png' alt='One Type Logo' />
      <meta itemprop='width' content='800' />
      <meta itemprop='height' content='600' />
    </figure>
  </div>
  {{ content }}

  <script>
  var lines = document.querySelectorAll('.highlight .hll');
  for (var i = 0; i < lines.length; i++) {
    lines[i].previousSibling.classList.add('bg-lineno');
  }

  var pages = document.querySelectorAll('.page');
  var currentPage = 0;
  var goTo = function(n) {
    pages[currentPage].classList.remove('reading');
    currentPage = (n + pages.length) % pages.length;
    pages[currentPage].classList.add('reading');
  }

  document.addEventListener( 'keydown', function(e) {
    var keyCode = e.keyCode || e.which;

    switch (keyCode) {
      case 37:
        goTo(currentPage - 1);
        break;

      case 39:
        goTo(currentPage + 1);
        break;
    }
  });
  </script>
</body>
</html>
